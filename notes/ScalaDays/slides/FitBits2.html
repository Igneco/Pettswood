<!DOCTYPE HTML>
<html>
<head>
    <title>Fit Bits</title>
    <link rel="stylesheet" type="text/css" href="../slideshow.css"/>
    <link rel="stylesheet" type="text/css" href="../../../src/test/resources/css/pettswood.css"/>
</head>
<body>
<h1>How could we be fitter that Fit? (part 2)</h1>
<h2>Nested Tables</h2>
<p>Had to be explicitly coded for, since not supported out-of-the-box</p>
<ul>
    <li>Grab the sub-elements being parsed and thrust them into Fit</li>
    <li>Manually aggregate tallies of pass and fail</li>
</ul>
<pre class="callout">
public void runFixtureInNestedTable(Fixture parentFixture, Parse cellWithTableOfExceptions) {
    if (cellWithTableOfExceptions != null
        && cellWithTableOfExceptions.parts != null
        && cellWithTableOfExceptions.parts.parts != null) {
        <span class="highlight">super.doRows</span>(cellWithTableOfExceptions<span class="highlight">.parts.parts</span>);
        <span class="highlight">parentFixture.counts.tally(this.counts);</span>
    } else {
        throw new FatalException("Expected a nested table but did not get one!");
    }
}
</pre>
<h2>Hooks deep into Fit</h2>
<ul>
    <li>Often needed to know the guts of Fit (Parse, parts, doRows(), etc)</li>
    <li>See above</li>
</ul>
<h2>Mixins and Fixture Visibility</h2>
<ul>
    <li>No in-test mechanism in Fit to combine useful fixtures</li>
    <li>Mixins inform us about the business or technical domain of the test</li>
    <li>Mixins allow us to group fixture together in sensible ways</li>
    <li>Going further: auto-generate a library index to link to from the mixins table</li>
</ul>
<table class="mixins" style="float: left;">
    <tr>
        <td class="names">Mixins</td>
        <td>Sales</td>
        <td>Trade Booking</td>
        <td>Audit</td>
    </tr>
</table>
</body>
</html>